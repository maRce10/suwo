<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Access 'Xeno-Canto' recordings and metadata — query_xenocanto • suwo</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Access 'Xeno-Canto' recordings and metadata — query_xenocanto"><meta name="description" content="query_xenocanto searches for metadata from Xeno-Canto."><meta property="og:description" content="query_xenocanto searches for metadata from Xeno-Canto."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">suwo</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/suwo.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/maRce10/suwo/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Access 'Xeno-Canto' recordings and metadata</h1>
      <small class="dont-index">Source: <a href="https://github.com/maRce10/suwo/blob/master/R/query_xenocanto.R" class="external-link"><code>R/query_xenocanto.R</code></a></small>
      <div class="d-none name"><code>query_xenocanto.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>query_xenocanto</code> searches for metadata from <a href="https://www.xeno-canto.org/" class="external-link">Xeno-Canto</a>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">query_xenocanto</span><span class="op">(</span></span>
<span>  <span class="va">term</span>,</span>
<span>  cores <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"mc.cores"</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  pb <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"pb"</span>, <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  verbose <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"verbose"</span>, <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  all_data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"all_data"</span>, <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  raw_data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"raw_data"</span>, <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-term">term<a class="anchor" aria-label="anchor" href="#arg-term"></a></dt>
<dd><p>Character vector of length one indicating the scientific of the taxonomic group (species, genus, or family)
to query for in the 'Xeno-Canto' database. For example, <em>Phaethornis</em> or <em>Phaethornis longirostris</em>.
More complex queries can be done by using search terms that follow the
xeno-canto advance query syntax. This syntax uses tags to search within a particular aspect of the recordings
(e.g. country, location, sound type). Tags are of the form tag:searchterm'. For instance, 'type:song'
will search for all recordings in which the sound type description contains the word 'song'.
Several tags can be included in the same query. The query "phaethornis cnt:belize' will only return
results for birds in the genus <em>Phaethornis</em> that were recorded in Belize. Queries are case insensitive. Make sure taxonomy related tags (Genus or scientific name) are found first in multi-tag queries. See <a href="https://www.xeno-canto.org/help/search" class="external-link">Xeno-Canto's search help</a> for a full description and see examples below
for queries using terms with more than one word.</p></dd>


<dt id="arg-cores">cores<a class="anchor" aria-label="anchor" href="#arg-cores"></a></dt>
<dd><p>Numeric vector of length 1. Controls whether parallel computing is applied by specifying the number of cores to be used. Default is 1 (i.e. no parallel computing). Can be set globally for the current R session via the "mc.cores" option (see <code><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></code>). Note that some repositories might not support parallel queries from the same IP address and errors might occur during the search.</p></dd>


<dt id="arg-pb">pb<a class="anchor" aria-label="anchor" href="#arg-pb"></a></dt>
<dd><p>Logical argument to control if progress bar is shown. Default is <code>TRUE</code>. Can be set globally for the current R session via the "pb" option (see <code><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></code>).</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>Logical argument that determines if text is shown in console. Default is <code>TRUE</code>. Can be set globally for the current R session via the "verbose" option (see <code><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></code>).</p></dd>


<dt id="arg-all-data">all_data<a class="anchor" aria-label="anchor" href="#arg-all-data"></a></dt>
<dd><p>Logical argument that determines if all data available from database is shown in the results of search. Default is <code>FALSE</code>. Can be set globally for the current R session via the "all_data" option (see <code><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></code>).</p></dd>


<dt id="arg-raw-data">raw_data<a class="anchor" aria-label="anchor" href="#arg-raw-data"></a></dt>
<dd><p>Logical argument that determines if the raw data from the API is returned (e.g. without any manipulation). Default is <code>FALSE</code>. Can be set globally for the current R session via the "raw_data" option (see <code><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></code>). If <code>TRUE</code>  <code>all_data</code> is set to <code>TRUE</code> internally. Useful for developers, or if users suspect that some data is mishandled during processing (i.e. date information is lost).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The function returns a data frame with the following recording information: recording ID,
Genus, Specific epithet, Subspecies, English name, Recordist, Country, Locality, Latitude,
Longitude, Vocalization type, Audio file, License, URL, Quality, Time, Date. Sound files in .mp3 or .wav
format are downloaded into the working directory if download = <code>TRUE</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function queries for avian vocalization recordings in the open-access
online repository <a href="https://www.xeno-canto.org/" class="external-link">Xeno-Canto</a>. It can return recordings metadata
or download the associated sound files. Complex queries can be done by using search terms that follow the
 xeno-canto advance query syntax (check "term" argument description).
 Files are double-checked after downloading and "empty" files are re-downloaded.
 File downloading process can be interrupted and resume later as long as the working directory is the same.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Planqué, Bob, &amp; Willem-Pier Vellinga. 2008. Xeno-canto: a 21st-century way to appreciate Neotropical bird song. Neotrop. Birding 3: 17-23.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="query_gbif.html">query_gbif</a></code>, <code><a href="query_wikiaves.html">query_wikiaves</a></code>, <code><a href="query_inaturalist.html">query_inaturalist</a></code>, <code><a href="query_observation.html">query_observation</a></code>
<a href="https://marce10.github.io/2016/12/22/Download_a_single_recording_for_each_species_in_a_site_from_Xeno-Canto.html" class="external-link">blog post on accessing Xeno-Canto recordings</a></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Marcelo Araya-Salas (<a href="mailto:marcelo.araya@ucr.ac.cr">marcelo.araya@ucr.ac.cr</a>)</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># search without downloading</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## search using xeno-canto advance query ###</span></span></span>
<span class="r-in"><span><span class="va">orth.pap</span> <span class="op">&lt;-</span> <span class="fu">query_xenocanto</span><span class="op">(</span>term <span class="op">=</span> <span class="st">"gen:orthonyx cnt:papua loc:tari"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># use quotes for queries with more than 1 word (e.g. Costa Rica),note that the</span></span></span>
<span class="r-in"><span><span class="co"># single quotes are used for the whole 'term' and double quotes for the 2-word term inside</span></span></span>
<span class="r-in"><span><span class="co"># Phaeochroa genus in Costa Rica</span></span></span>
<span class="r-in"><span><span class="va">phae.cr</span> <span class="op">&lt;-</span> <span class="fu">query_xenocanto</span><span class="op">(</span>term <span class="op">=</span> <span class="st">'gen:phaeochroa cnt:"costa rica"'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># several terms can be searched for in the same field</span></span></span>
<span class="r-in"><span><span class="co"># search for all female songs in sound type</span></span></span>
<span class="r-in"><span><span class="va">femsong</span> <span class="op">&lt;-</span> <span class="fu">query_xenocanto</span><span class="op">(</span>term <span class="op">=</span> <span class="st">"type:song type:female"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Marcelo Araya-Salas, Jorge Elizondo-Calvo.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

